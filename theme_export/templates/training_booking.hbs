<section class="training-booking">
  <div class="container">
    <h1>Book a Training Session</h1>
    {{#if signed_in}}
      <p class="training-intro">
        Select an available slot below to reserve your training session. You can only book open slots; full or cancelled sessions are disabled.
      </p>
      <div class="training-booking__panel">
        <form id="training-filters" class="training-booking__filters" autocomplete="off">
          <div class="training-booking__field">
            <label for="training-filter-from">From</label>
            <input class="form-control" id="training-filter-from" name="from" type="date">
          </div>
          <div class="training-booking__field">
            <label for="training-filter-to">To</label>
            <input class="form-control" id="training-filter-to" name="to" type="date">
          </div>
          <div class="training-booking__field training-booking__field--wide">
            <label for="training-filter-query">Search</label>
            <input class="form-control" id="training-filter-query" name="query" type="search" placeholder="Vendor or topic">
          </div>
          <div class="training-booking__field training-booking__field--compact">
            <label class="training-booking__checkbox">
              <input id="training-filter-open" type="checkbox">
              Open only
            </label>
          </div>
          <div class="training-booking__actions">
            <button class="btn btn-primary" type="submit">Apply</button>
            <button class="btn btn-secondary" id="training-reset" type="button">Reset</button>
          </div>
        </form>
      </div>
      <div class="training-booking__panel">
        <div class="training-booking__details">
          <h2>Booking details</h2>
          <div class="training-booking__details-grid">
            <div class="training-booking__field">
              <label for="training-dept">Department</label>
              <input class="form-control" id="training-dept" name="dept" type="text" placeholder="IT">
            </div>
            <div class="training-booking__field">
              <label for="training-attendees">Attendees</label>
              <input class="form-control" id="training-attendees" name="attendees" type="number" min="1" value="1">
            </div>
          </div>
          <div class="training-booking__field training-booking__field--full">
            <label for="training-notes">Notes</label>
            <textarea class="form-control" id="training-notes" name="notes" rows="3" placeholder="Optional notes"></textarea>
          </div>
          <p class="training-booking__note">
            Bookings create Zendesk tickets automatically.
          </p>
        </div>
      </div>
      <div id="training-booking-app"></div>
      <script>
        window.TrainingApiKey = {{json settings.training_api_key}};
      </script>
    {{else}}
      <div class="training-booking__signin">
        <p>Sign in to view and book training sessions.</p>
        <a class="btn btn-primary" href="https://cxe-internal.zendesk.com/hc/{{help_center.locale}}/signin?return_to=https://cxe-internal.zendesk.com/hc/{{help_center.locale}}/p/training_booking">
          Sign in
        </a>
      </div>
    {{/if}}
  </div>
</section>
