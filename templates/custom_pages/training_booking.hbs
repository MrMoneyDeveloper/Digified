<link rel=\"stylesheet\" href=\"{{asset 'training-bookings.css'}}\">

<!-- ============================================\n     TRAINING BOOKING API CONFIGURATION\n     ============================================ -->\n<script>\n  /**\n   * Google Apps Script Deployment Configuration\n   * Updated: 2026-01-04\n   */\n  window.TRAINING_BOOKING_CFG = {\n    baseUrl: \"https://script.google.com/macros/s/AKfycbxZUHO8KiN6-oawtgTnXJy9yf2OPU1hpnRgcrnyaAB8SzMv3J5EylrhC4_Dgv0_dX/usep?v=1\",\n    apiKey: \"c8032a6a14e04710a701aadd27f8e5d5\"\n  };\n\n  // Validate config on page load\n  document.addEventListener('DOMContentLoaded', function() {\n    if (!window.TRAINING_BOOKING_CFG.baseUrl || !window.TRAINING_BOOKING_CFG.apiKey) {\n      console.error('[RoomBooking] ⚠️ API configuration missing!');\n      const alert = document.querySelector('#training-booking-alert');\n      if (alert) {\n        alert.className = 'tb-alert tb-alert--error';\n        alert.innerHTML = '❌ <strong>Configuration Error:</strong> Training booking APIs not configured. Contact admin.';\n        alert.hidden = false;\n      }\n      return;\n    }\n    console.log('[RoomBooking] ✅ API configuration loaded successfully');\n  });\n</script>\n\n<section class=\"training-bookings\">\n  <div class=\"container\">\n    <div class=\"tb-hero\">\n      <h1>Book Training Room</h1>\n      <p class=\"tb-intro\">Select a date to view available training room sessions.</p>\n    </div>\n\n    {{#if signed_in}}\n      <div\n        id=\"training-booking-root\"\n        class=\"tb-app\"\n        data-training-booking-version=\"v2\"\n      >\n        <div id=\"training-booking-alert\" class=\"tb-alert\" role=\"status\" aria-live=\"polite\" hidden></div>\n\n        <form id=\"training-booking-filters\" class=\"tb-filters\" autocomplete=\"off\">\n          <div class=\"tb-field\">\n            <label for=\"training-date\">Date</label>\n            <input class=\"form-control\" id=\"training-date\" name=\"date\" type=\"date\" required>\n          </div>\n          <div class=\"tb-actions\">\n            <button class=\"btn btn-primary\" id=\"training-load\" type=\"submit\">Refresh</button>\n            <button class=\"btn btn-secondary\" id=\"training-reset\" type=\"button\">Reset</button>\n          </div>\n        </form>\n\n        <div id=\"training-booking-loading\" class=\"tb-loading\" hidden>\n          <span class=\"tb-spinner\" aria-hidden=\"true\"></span>\n          <span>Loading sessions...</span>\n        </div>\n\n        <div id=\"training-booking-list\" class=\"tb-list\"></div>\n\n        <div id=\"training-booking-modal\" class=\"tb-modal\" aria-hidden=\"true\" hidden>\n          <div class=\"tb-modal-dialog\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"training-booking-modal-title\">\n            <div class=\"tb-modal-header\">\n              <h2 class=\"tb-modal-title\" id=\"training-booking-modal-title\">Book Training Room</h2>\n              <button class=\"tb-modal-close\" type=\"button\" id=\"training-booking-modal-close\" aria-label=\"Close\">x</button>\n            </div>\n            <div class=\"tb-modal-body\">\n              <div id=\"training-booking-session-summary\" class=\"tb-session-summary\"></div>\n              <form id=\"training-booking-form\" class=\"tb-form\">\n                <input id=\"training-booking-slot-id\" name=\"slot_id\" type=\"hidden\">\n                <div class=\"tb-form-grid\">\n                  <div class=\"tb-field\">\n                    <label for=\"training-booking-requester-name\">Requester name</label>\n                    <input class=\"form-control\" id=\"training-booking-requester-name\" name=\"requester_name\" type=\"text\" readonly required>\n                  </div>\n                  <div class=\"tb-field\">\n                    <label for=\"training-booking-requester-email\">Requester email</label>\n                    <input class=\"form-control\" id=\"training-booking-requester-email\" name=\"requester_email\" type=\"email\" readonly required>\n                  </div>\n                  <div class=\"tb-field\">\n                    <label for=\"training-booking-notes\">Notes</label>\n                    <textarea class=\"form-control\" id=\"training-booking-notes\" name=\"notes\" rows=\"3\" placeholder=\"Any questions or special requirements?\"></textarea>\n                  </div>\n                </div>\n                <div class=\"tb-modal-actions\">\n                  <button class=\"btn btn-primary\" id=\"training-booking-submit\" type=\"submit\">Book now</button>\n                  <button class=\"btn btn-secondary\" id=\"training-booking-modal-cancel\" type=\"button\">Cancel</button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    {{else}}\n      <div class=\"tb-signed-out\">\n        <p>Please sign in to view and book training sessions.</p>\n        <a class=\"btn btn-primary\" href=\"/hc/en-us/signin\">Sign in</a>\n      </div>\n    {{/if}}\n  </div>\n</section>\n\n<script src=\"{{asset 'training-bookings-calendar.js'}}\" defer></script>"